<!-- verified: agorbachev 03.05.2022 -->

<!-- 2.3.1 -->
## Базовая структура команд IOS

В этом разделе рассматривается основная структура команд для Cisco IOS. Администратор сети должен знать базовую структуру команд IOS, чтобы иметь возможность использовать интерфейс командной строки для конфигурации устройства.

Устройства Cisco IOS поддерживают множество команд. Каждая команда IOS имеет определенный формат или синтаксис и выполняется только в соответствующем режиме. Общий синтаксис команд представляет собой команду, за которой следуют любые необходимые ключевые слова и аргументы:

![](./assets/2.3.1.png)
<!-- /courses/itn-dl/aeecb970-34fa-11eb-ad9a-f74babed41a6/af1eed00-34fa-11eb-ad9a-f74babed41a6/assets/2da49572-1c25-11ea-81a0-ffc2c49b96bc.svg -->

Рисунок показывает общий синтаксис для команд коммутатора (приглашение, команда, пробел и ключевые слова или аргументы) и приводит два примера.  В первом примере приглашение ``Switch>``, команда show, пробел и ключевое слово ip protocols Во втором примере запрос ``Switch>``, команда ping, пробел и аргумент 192.168.10.5.

* **Ключевое слово** - это параметр, определенный в операционной системе (на рисунке **ip-протоколы**).   
* **Аргумент** — Это значение или переменная, определенная пользователем (на рисунке **192.168.10.5**).
После ввода каждой полной команды, включая все ключевые слова и аргументы, нажмите клавишу **Enter**, чтобы отправить эту команду в командный процессор.

<!-- 2.3.2 -->
## Проверка синтаксиса команд IOS.

Для команды могут требоваться один или несколько аргументов. Чтобы определить, какие ключевые слова и аргументы нужны для команды, обратитесь к синтаксису команд. Синтаксис обеспечивает шаблон или формат, который необходимо использовать при вводе команды.

Как показано в таблице, полужирным шрифтом выделены команды и ключевые слова, которые вводятся как есть. Курсивом выделены аргументы, для которых пользователь указывает значение.

| **Условное обозначение** | **Описание** |
| --- | --- |
| **полужирный** | Вводимые команды и ключевые слова отображаются полужирным шрифтом, как показано на рисунке. |
| *курсив* | Курсивом отображаются аргументы, для которых нужно указать значения. |
| **[**x**]** | В квадратных скобках отображаются дополнительные элементы (ключевое слово или аргумент). |
| **{x}** | В фигурных скобках отображаются обязательные элементы (ключевое слово или аргумент). |
| **[x {y \| z}]** | Фигурные скобки и вертикальные линии в квадратных скобках означают, что необходимо выбрать дополнительный элемент. Пробелы используются для четкого разграничения частей команды. |

Например, синтаксис для использования  команды **description** следующий  **description** _string._ Аргумент является значением _string_, предоставленным пользователем. Команда **description** обычно используется для определения назначения интерфейса. Например, команда **description Connects to the main headquarter office switch** (Подключение к коммутатору головного офиса) определяет, где находится другое устройство на другой стороне соединения.

Ниже представлены примеры условных обозначений для документирования и использования команд IOS:

* **ping** ip-address - команда **ping**, а пользовательский аргумент - это ip-адрес целевого устройства. Например, **ping 10.10.10.5**.
* **traceroute** ip-address - команда traceroute, а определяемый пользователем аргумент является ip-адресом целевого устройства. Например, **traceroute 192.168.254.254**.
Если команда сложная с несколькими аргументами, вы можете увидеть ее в следующем виде:

```
 Switch(config-if)# switchport port-security aging { static | time time |  type  {absolute | inactivity}} 
```

Команда обычно сопровождается подробным описанием её и каждого её аргумента.

Главным источником информации о конкретных командах IOS является справочник команд Cisco IOS.

<!-- 2.3.3 -->
## Компоненты справки IOS

В сетевой операционной системе IOS предусмотрены две формы предоставления справочной информации: контекстная справка и проверка синтаксиса команд.

Контекстная справка позволяет быстро найти ответы на следующие вопросы:

* Какие команды доступны в каждом командном режиме?
* Какие команды начинаются с определенных символов или группы символов?
* Какие аргументы и ключевые слова доступны для определенных команд?

Для доступа к контекстной справке просто введите вопросительный знак **?** в командной строке CLI.

Проверка синтаксиса команды подтверждает, что пользователь ввел допустимую команду. Командный процессор анализирует введенную команду слева направо. Если процессор распознает команду, то выполняется требуемое действие и интерфейс CLI возвращается к соответствующей командной строке. Если процессор не распознает введенную команду, он отображает возможные ошибки.

<!-- 2.3.4 -->
## Видео: контекстная справка и проверка синтаксиса команд

Посмотрите видео, демонстрирующее контекстную справку и проверку синтаксиса команды.

<iframe width="970" height="546" src="https://www.youtube.com/embed/K_VEPe8aRUE" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

<!-- 2.3.5 -->
## Горячие клавиши и клавиши быстрого вызова

Интерфейс командной строки IOS предусматривает горячие клавиши и клавиши быстрого вызова, которые упрощают процесс настройки, мониторинга, поиска и устранения неполадок.

Команды и ключевые слова можно сокращать до минимального количества символов, которые однозначно идентифицируют выбранную команду или слово. Например, команду **configure** можно сократить до **conf**, поскольку **configure**— это единственная команда, которая начинается с символов **conf**. Сокращение **con** использовать нельзя, так как с символов **con** начинается несколько команд. Ключевые слова также можно сокращать.

В таблице перечислены сочетания клавиш для улучшения редактирования в командной строке.

| **Сочетание клавиш** | **Описание** |
| --- | --- |
| **Tab** | Завершает частично введенную команду. |
| **Backspace** | Удаляет один символ слева от курсора. |
| **Ctrl-D** | Удаляет символ, на котором стоит курсор. |
| **Ctrl-K** | Удаляет все символы от курсора до конца командной строки. |
| **Esc D** | Удаляет все символы от курсора до конца слова. |
| **Ctrl+U** или **Ctrl+x** | Удаляет все символы от курсора до начала командной строки. |
| **Ctrl-W** | Удаляет слово слева от курсора. |
| **Ctrl-A** | Перемещает курсор в начало строки. |
| **Клавиша со стрелкой влево** или **Ctrl+B** | Перемещает курсор на один символ влево. |
| **Esc B** | Перемещает курсор на одно слово назад влево. |
| **Esc F** | Перемещает курсор на одно слово вперед вправо. |
| **Клавиша со стрелкой вправо** или **Ctrl+F** | Перемещает курсор на один символ вправо. |
| **Ctrl-E** | Перемещает курсор в конец командной строки. |
| **Клавиша со стрелкой вверх** или **Ctrl+P** | Вызывает команды в буфере истории, начиная с самых последних команд. |
| **Ctrl+R** или **Ctrl+I** или **Ctrl+L** | Заново открывает командную строку системы после получения сообщения из консоли. |

**Примечание:** Хотя клавиша **Delete** обычно удаляет символ справа от приглашения, структура команд IOS не распознает клавишу Delete.

Когда вывод команды создает больше текста, чем может отображаться в окне терминала, IOS отобразит  приглашение **“--More--”**. В следующей таблице описаны сочетания клавиш, которые могут использоваться в работе при отображении этого запроса.

| **Сочетание клавиш** | **Описание** |
| --- | --- |
| Клавиша **Enter** | Показывает следующую строку. |
| **Пробел** | Показывает следующий экран. |
| Любая друга клавиша | Закрывает строку и возвращает пользователя в привилегированный режим EXEC. |



В этой таблице перечислены команды, используемые для выхода из режима.

| **Сочетание клавиш** | **Описание** |
| --- | --- |
| **Ctrl-C** | Это сочетание клавиш останавливает любой запущенный режим конфигурации и выполняет возврат к привилегированному режиму EXEC. При работе в режиме настройки возвращает обратно в командную строку. |
| **Ctrl-Z** | Это сочетание клавиш останавливает любой запущенный режим конфигурации и выполняет возврат к привилегированному режиму EXEC. |
| **Ctrl-Shift-6** | Универсальная последовательность прерывания, используемая для прерывания поиска DNS записи, трассировки маршрута, ping и т.д. |

<!-- 2.3.6 -->
## Видео: горячие клавиши и клавиши быстрого вызова

Нажмите кнопку «Воспроизведение» на рисунке для просмотра видео, демонстрирующего различные горячие клавиши и клавиши быстрого вызова.

<iframe width="970" height="546" src="https://www.youtube.com/embed/YDXgJUjGjcw" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

<!-- 2.3.7 -->
## Работа в симуляторе: навигация по интерфейсу коммандной строки Cisco IOS

В этом упражнении вы сможете на практике отработать навыки, необходимые для навигации по операционной системе Cisco IOS, включая различные пользовательские режимы доступа, всевозможные режимы конфигурации, а также наиболее распространенные команды, используемые регулярно. Кроме того, вы поработаете с контекстной справкой при настройке команды clock.



[Навигация по IOS (pdf)](./assets/2.3.7-packet-tracer---navigate-the-ios_ru-RU.pdf)

[Навигация по IOS (pka)](./assets/2.3.7-packet-tracer---navigate-the-ios_ru-RU.pka)

<!-- 2.3.8 -->
## Лабораторная работа: навигация по интерфейсу коммандной строки Cisco  IOS с помощью Tera Term при консольном подключении

В этой лабораторной работе вы выполните следующие задачи.

* Часть 1: Получение доступа к коммутатору Cisco через консольный порт последовательного подключения
* Часть 2: Отображение и настройка основных параметров устройства
* Часть 3: Получение доступа к маршрутизатору Cisco с помощью консольного кабеля mini-USB (дополнительно)

[Навигация по IOS с помощью клиента терминала для подключения консоли - режим симуляции физического оборудования (pdf)](./assets/2.3.8-packet-tracer---navigate-the-ios-using-a-terminal-client-for-console-connectivity---physical-mode_ru-RU.pdf)

[Навигация по IOS с помощью клиента терминала для подключения консоли - режим симуляции физического оборудования (pka)](./assets/2.3.8-packet-tracer---navigate-the-ios-using-a-terminal-client-for-console-connectivity---physical-mode_ru-RU.pka)

[Навигация по IOS с помощью Tera Term при консольном подключении (лабораторная работа для физического оборудования)](./assets/2.3.8-lab---navigate-the-ios-by-using-tera-term-for-console-connectivity_ru-RU.pdf)

