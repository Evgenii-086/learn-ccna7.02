<!-- verified: agorbachev 03.05.2022 -->

<!-- 15.6.1 -->
##  Что я изучил в этом модуле?

### Уровень приложения, уовень представления, сеансовый уровень

В моделях OSI и TCP/IP прикладной уровень находится ближе всего к конечному пользователю. Протоколы уровня приложений используются для обмена данными между программами, выполняемыми на узле источника и узле назначения. 

Уровень представления имеет три основные функции: форматирование или представление данных на устройстве-источнике в совместимую форму для приема устройством-адресатом, сжатие данных способом, который может быть распакован устройством-адресатом, и шифрование данных для передачи и дешифрования данных при получении. 

На сеансовом уровне создаются и поддерживаются сеансы связи приложениями на узле источника и узле назначения. На сеансовом уровне происходит обмен данными для установления связи, поддержания ее в активном состоянии и для перезапуска сеансов, которые были прерваны или неактивны в течение продолжительного времени. 

Протоколы уровня приложений TCP/IP определяют форматы и управляют данными, необходимыми для многих распространенных функций обмена данными через Интернет. Эти протоколы используются как источником, так и устройством назначения во время сеанса. Протоколы, реализованные на хосте источника и назначения, должны быть совместимы.

### Одноранговые сети

В модели типа «клиент-сервер» устройство, запрашивающее информацию, называется клиентом, а устройство, которое отвечает на данный запрос, — сервером. Клиент начинает обмен данными, отправляя запрос на получение данных с сервера, который в ответ отправляет один или несколько потоков данных клиенту. 

В P2P-сети два компьютера (или более двух) подключаются между собой по сети и могут открывать доступ к своим ресурсам без использования выделенного сервера. Каждое подключенное к сети конечное устройство (одноранговый узел) может выполнять функции как сервера, так и клиента. 

Один компьютер может играть роль сервера для одной операции, одновременно выступая в роли клиента для других операций. Для P2P-приложений требуется, чтобы каждое конечное устройство предоставляло пользовательский интерфейс и запускало сервис в фоновом режиме. В некоторых P2P-приложениях используется гибридная система, где общий доступ к ресурсам децентрализован, а индексы, указывающие на местоположения ресурсов, хранятся в центральном каталоге. 

Многие P2P-приложения позволяют пользователям совместно использовать части множества файлов в одно и то же время. Для поиска других пользователей, располагающих необходимыми частями файлов, клиенты используют небольшие торрент-файлы, которые позволяют устанавливает подключения напрямую к этим пользователям. В этом файле также записана информация о трекере, на котором хранятся данные о том, какими частями файлов располагают пользователи.

### Веб-службы и сервисы электронной почты

Когда веб-адрес или URL вводится в веб-браузере, веб-браузер устанавливает соединение с веб-службой. Веб-служба выполняется на сервере, использующем протокол HTTP. Протокол HTTP основан на механизме «запрос-ответ». Когда клиент (обычно веб-браузер) отправляет запрос веб-серверу, протокол HTTP определяет типы сообщений, используемые для этого взаимодействия. Три основных типа сообщений: GET, POST и PUT. Для безопасной связи через Интернет в HTTPS используется тот же процесс «запрос-ответ», что и в HTTP, но поток данных зашифровывается посредством SSL (Secure Socket Layer) перед передачей по сети. 

Электронная почта поддерживает три отдельных протокола для работы: SMTP, POP и IMAP. В процессе уровня приложений, на котором выполняется отправка почты, используется протокол SMTP. Клиент получает электронную почту с помощью POP или IMAP. В формате SMTP сообщение состоит из заголовка и тела сообщения. Если тело сообщения может содержать текст произвольной длины, то в заголовке адреса электронной почты получателя и отправителя должны быть указаны в соответствующем формате. Протокол POP используется приложениями для получения сообщений от сервера электронной почты. При использовании POP сообщения загружаются клиентом с сервера и удаляются на сервере. Отличие IMAP от POP состоит в том, что при подключении пользователя к серверу IMAP в клиентское приложение загружаются только копии сообщений. Исходные сообщения остаются на сервере до тех пор, пока они не будут удалены вручную.

### Сервисы разрешения доменных имен и автоматической конфигурации узлов

Протокол DNS сопоставляет имена ресурсов с соответствующим числовым сетевым адресом. При обмене данными по протоколу DNS используется формат сообщений для всех типов запросов клиента и ответов сервера, сообщений об ошибках и передачи записей ресурсов между серверами. Иерархическая структура DNS строится по именам доменов. У каждого DNS-сервера имеется отдельный файл с базой данных. Сервер управляет привязкой имен к IP-адресам только в отдельной небольшой части общей структуры DNS. Компьютерные ОС используют Nslookup, чтобы позволить пользователю вручную запрашивать серверы имен для разрешения заданного имени хоста. 

Служба DHCP для IPv4 автоматизирует назначение адресов IPv4, масок подсети, шлюза и других параметров сети IPv4. DHCPv6 предоставляет аналогичные службы для клиентов IPv6, за исключением того, что он не предоставляет адрес шлюза по умолчанию. Когда устройство IPv4, на котором настроено использование DHCP, загружается или подключается к сети, клиент выполняет широковещательную рассылку сообщения обнаружения DHCP (DHCPDISCOVER) с целью идентификации всех доступных серверов DHCP в сети. Сервер DHCP отвечает сообщением с предложением DHCP (DHCPOFFER), которое разрешает клиенту арендовать адрес. DHCPv6 имеет набор сообщений, аналогичных сообщениям для DHCPv4. Сообщения DHCPv6: SOLICIT, ADVERTISE, INFORMATION REQUEST и REPLY.

### Сервисы совместного доступа к файлам

FTP-клиент представляет собой приложение, запущенное на компьютере, которое используется для получения данных с сервера, на котором функционирует служба FTP, или отправки данных на этот сервер. Клиент устанавливает первое подключение к серверу для контроля трафика через TCP-порт 21. Затем клиент устанавливает второе соединение с сервером для непосредственной передачи данных через порт 20 протокола TCP. Клиент может загрузить (принять) данные с сервера или выгрузить (послать) данные на сервер. 

Существует три функции сообщений SMB, они используются для начала, аутентификации и завершения сеансов, контроля доступа к файлам и принтерам и предоставления приложению разрешения на отправку или получение сообщений от другого устройства. В отличие от обмена файлами по протоколу FTP, клиенты устанавливают долговременное подключение к серверам. После установки соединения пользователь может получить доступ к ресурсам на сервере аналогично доступу к ресурсам на локальном узле.

<!-- 15.6.2 -->
<!-- quiz -->

