
---

> **ВАЖНО**
> 
> Форма для ответов на вопросы будет доступна только при развертывании лабораторной работы 

---

## Топология

![topology](./assets/7.2.7-1.png)

## Таблица адресации

| Устройство | Интерфейс | IP-адрес    | Маска подсети | Шлюз по умолчанию |
|------------|-----------|-------------|---------------|-------------------|
| S1         | VLAN 1    | 192.168.1.2 | 255.255.255.0 | —                 |
| PC-A       | NIC       | 192.168.1.3 | 255.255.255.0 | 192.168.1.1       |

## Задачи

**Часть 1. Настроить устройства и проверить подключения**

**Часть 2. Отобразить, описать и проанализировать МАС-адреса Ethernet**

## Общие сведения/сценарий

Каждое устройство в локальной сети Ethernet определяется МАС-адресом второго уровня. Этот адрес назначается производителем и хранится в микропрограммном обеспечении сетевой платы. В ходе лабораторной работы вам предстоит изучить и проанализировать компоненты MAC-адреса, а также процедуры поиска такой информации на коммутаторе и ПК.

Вы подключите оборудование, как показано в топологии. Затем настроите коммутатор и ПК в соответствии с таблицей адресации и протестируете настроенные конфигурации, проверив подключение к сети.

После завершения настройки и проверки подключения к сети вы должны будете ответить на вопросы о сетевом оборудовании, используя различные команды для получения данных от устройств.

**Примечание.** В лабораторной работе используются коммутаторы Cisco Catalyst 2960s с операционной системой Cisco IOS 15.2(2) (образ lanbasek9). Допускается использование других моделей коммутаторов и других версий Cisco IOS. В зависимости от модели устройства и версии Cisco IOS доступные команды и результаты их выполнения могут отличаться от тех, которые показаны в лабораторных работах.

**Примечание.** Убедитесь, что все настройки коммутатора удалены и загрузочная конфигурация отсутствует. Если вы не уверены, обратитесь к инструктору.

## Необходимые ресурсы:

- коммутатор (Cisco 2960 с ПО Cisco IOS версии 15.2(2) с образом lanbasek9 или аналогичная модель);

- ПК (под управлением Windows с программой эмуляции терминала, например, Tera Term);

- консольный кабель для настройки коммутатора Cisco через консольные порты;

- кабели Ethernet, по количеству в соответствии с топологией.

## Инструкции

### Часть1. Настройка устройств и проверка подключения

В этой части вам необходимо настроить топологию сети и базовые параметры, такие как IP-адреса интерфейсов и имя устройства. Данные об имени и адресах устройств см. в таблицах топологии и адресации.

**Шаг 1. Создайте сеть согласно топологии**

1.  Подключите устройства, показанные в топологии, и кабели соответствующим образом.
2.  Включите все устройства в топологии.

**Шаг 2. Настройте IPv4-адрес на ПК**

1.  Настройте IPv4-адрес, маску подсети и адрес шлюза по умолчанию для компьютера PC-A.
2.  Из командной строки компьютера PC-A отправьте эхо-запрос на адрес коммутатора.

Вопрос:

Успешно ли выполнена проверка связи? Дайте пояснение.

**Введите ваш ответ здесь.**

**Шаг 3. Настройте базовые параметры коммутатора**

В этом шаге вам необходимо настроить имя устройства и IP-адрес, а также отключить на коммутаторе поиск DNS.

1.  Подключитесь к коммутатору с помощью консоли и перейдите в режим глобальной настройки.

```
Switch> enable
Switch# configure terminal
Введите построчно команды настройки.  В конце нажмите CNTL/Z.
Switch(config)#
```

2.  Назначьте коммутатору имя узла в соответствии с таблицей адресации.

```
Switch(config)# hostname S1
```

3.  Отключите поиск DNS.

```
S1(config)# no ip domain-lookup
```

4.  Настройте и включите интерфейс SVI для сети VLAN 1.

```
S1(config)# interface vlan 1
S1(config-if)# ip address 192.168.1.2 255.255.255.0
S1(config-if)# no shutdown
S1(config-if)# end
*Mar 1 0:07:59.048: %SYS-5-CONFIG_I: Configured from console by console
```

**Шаг 4. Проверьте подключение к сети**

Пошлите ping на коммутатор с PC-A.

Вопрос:

Успешно ли выполнена проверка связи?

**Введите ваш ответ здесь.**

### Часть 2. Отображение, описание и анализ МАС-адресов Ethernet

У каждого устройства в локальной сети Ethernet есть MAC-адрес, который назначается производителем и хранится в микропрограммном обеспечении сетевой платы. MAC-адреса Ethernet имеют длину 48 битов и отображаются в виде шести наборов шестнадцатеричных цифр, которые обычно отделяются друг от друга с помощью тире, двоеточия или точки. В следующем примере один и тот же MAC-адрес представлен тремя различными способами.

```
	00-05-9А-3С-78-00		00:05:9А:3С:78:00		0005.9А3С.7800
```

**Примечание.** MAC-адреса называют также физическими адресами, адресами аппаратного обеспечения или адресами Ethernet-оборудования.

Вам необходимо выполнить команды для отображения МАС-адресов на ПК и коммутаторе, а затем проанализировать свойства каждого адреса.

**Шаг 1. Проанализируйте MAC-адрес сетевой платы компьютера PC-A**

Прежде чем анализировать MAC-адрес компьютера PC-A, посмотрите пример сетевой платы другого ПК. Для просмотра МАС-адресов сетевых плат введите команду **ipconfig /all**. Пример результата выполнения данной команды показан ниже. При использовании команды **ipconfig /all** помните, что МАС-адреса называются физическими адресами. При их чтении слева направо первые шесть шестнадцатеричных цифр обозначают поставщика (производителя) данного устройства. Первые шесть шестнадцатеричных цифр (3 байта) называют также уникальным идентификатором организации (OUI). Этот трехбайтный код назначается поставщику организацией IEEE.

Чтобы найти производителя, используйте ключевые слова **IEEE OUI стандарты**, чтобы найти средство поиска OUI в Интернете или перейдите на <http://standards-oui.ieee.org/oui.txt>, чтобы найти зарегистрированные коды поставщиков OUI. Последние шесть цифр — это серийный номер сетевой платы, присвоенный производителем.

1.  Используя результаты выполнения команды **ipconfig /all**, ответьте на нижеследующие вопросы.

```
C:\> ipconfig /all
<output omitted>
Ethernet adapter Ethernet:

   Connection-specific DNS Suffix . :
   Описание . . . . . . . . . . . : Intel(R) 82577LM Gigabit Network Connection
   Физический адрес. . . . . . . . . : 5С-26-0А-24-2А-60
   DHCP включен. . . . . . . . . . . : Да
   Автонастройка включена . . . . : Да
   Link-local IPv6-адрес. . . . . : fe80::b875:731b:3c7b:c0b1%10(Preferred)
   IPv4-адрес. . . . . . . . . . . : 192.168.1.147(Preferred)
   Маска подсети . . . . . . . . . . . : 255.255.255.0
   Аренда получена. . . . . . . . . . : Friday, September 6, 2019 11:08:36 AM
   Аренда истекает . . . . . . . . . . : Saturday, September 7, 2019 11:08:36 AM
   Шлюз по умолчанию . . . . . . . . . : 192.168.1.1
<output omitted>
```

Какая часть MAC-адреса этого устройства соответствует OUI?

**Введите ваш ответ здесь.**

Какая часть MAC-адреса этого устройства соответствует серийному номеру?

**Введите ваш ответ здесь.**

В приведенном выше примере определите производителя сетевой платы.

**Введите ваш ответ здесь.**

2.  Введите команду **ipconfig /all** в командной строке на компьютере PC-A и определите OUI в МАС-адресе сетевой платы компьютера PC-A.

Определите серийный номер в МАС-адресе сетевой платы компьютера PC-A.

**Введите ваш ответ здесь.**

Определите производителя сетевой платы компьютера PC-A.

**Введите ваш ответ здесь.**

**Шаг 2. Проанализируйте MAC-адрес интерфейса F0/6 коммутатора S1**

Для отображения МАС-адреса на коммутаторе можно использовать различные команды.

1.  С помощью консоли подключитесь к коммутатору S1 и выполните команду **show interfaces vlan 1**, чтобы найти информацию о МАС-адресе. Пример показан ниже. Чтобы ответить на вопросы, используйте выходные данные, сгенерированные коммутатором.

```
S1# show interfaces vlan 1
Vlan1 is up, line protocol is up 
  Hardware is EtherSVI, address is 001b.0c6d.8f40 (bia 001b.0c6d.8f40)
  Internet address is 192.168.1.2/24
  MTU 1500 bytes, BW 1000000 Kbit/sec, DLY 10 usec, 
     reliability 255/255, txload 1/255, rxload 1/255
  Encapsulation ARPA, loopback not set
  Keepalive not supported 
  ARP type: ARPA, ARP Timeout 04:00:00
  Last input never, output 0:14:51, output hang never
  Last clearing of show interface counters never
  Input queue: 0/75/0/0 (size/max/drops/flushes); Total output drops: 0
  Queueing strategy: fifo
  Output queue: 0/40 (size/max)
  5 minute input rate 0 bits/sec, 0 packets/sec
  5 minute output rate 0 bits/sec, 0 packets/sec
     0 packets input, 0 bytes, 0 no buffer
     Received 0 broadcasts (0 IP multicasts)
     0 runts, 0 giants, 0 throttles
     0 input errors, 0 CRC, 0 frame, 0 overrun, 0 ignored
     34 packets output, 11119 bytes, 0 underruns
     0 output errors, 2 interface resets
     0 unknown protocol drops
     0 output buffer failures, 0 output buffers swapped out
```

Вопросы:

Какой MAC-адрес имеет интерфейс VLAN 1 на коммутаторе S1?

**Введите ваш ответ здесь.**

Какой серийный номер указан в MAC-адресе интерфейса VLAN 1?

**Введите ваш ответ здесь.**

Какой OUI имеет интерфейс VLAN 1?

**Введите ваш ответ здесь.**

Назовите производителя оборудования согласно OUI.

**Введите ваш ответ здесь.**

Что означает bia?

**Введите ваш ответ здесь.**

Почему в результатах выполнения команды дважды указан один и тот же MAC-адрес?

**Введите ваш ответ здесь.**

2.  Другой способ отображения МАС-адреса на коммутаторе — это команда **show arp**. Отобразите MAC-адрес с помощью команды `show arp`. Она сопоставляет адрес второго уровня с соответствующим адресом третьего. Пример показан ниже. Чтобы ответить на вопросы, используйте выходные данные, сгенерированные коммутатором.

```
S1# show arp
Protocol Address Age (min) Hardware Addr Type Interface
Internet 192.168.1.2 - 001b.0c6d.8f40 ARPA Vlan1
Internet 192.168.1.3 0 5c26.0a24.2a60 ARPA Vlan1
```

Какие адреса уровня 2 отображены на коммутаторе S1?

**Введите ваш ответ здесь.**

**Шаг 3. Изучите таблицу МАС-адресов коммутатора**

Выполните команду **show mac address-table** на коммутаторе S1. Пример показан ниже. Чтобы ответить на вопросы, используйте выходные данные, сгенерированные коммутатором.

```
S1# show mac address-table
          Mac Address Table
-------------------------------------------

Vlan Mac Address Type Ports
— — — —
 All 0100.0ccc.cccc STATIC CPU
 All 0100.0ccc.cccd STATIC CPU
 All 0180.c200.0000 STATIC CPU
 All 0180.c200.0001 STATIC CPU
 All 0180.c200.0002 STATIC CPU
 All 0180.c200.0003 STATIC CPU
 All 0180.c200.0004 STATIC CPU
 All 0180.c200.0005 STATIC CPU
 All 0180.c200.0006 STATIC CPU
 All 0180.c200.0007 STATIC CPU
 All 0180.c200.0008 STATIC CPU
 All 0180.c200.0009 STATIC CPU
 All 0180.c200.000a STATIC CPU
 All 0180.c200.000b STATIC CPU
 All 0180.c200.000c STATIC CPU
 All 0180.c200.000d STATIC CPU
 All 0180.c200.000e STATIC CPU
 All 0180.c200.000f STATIC CPU
 All 0180.c200.0010 STATIC CPU
 All ffff.ffff.ffff STATIC CPU
   1 5c26.0a24.2a60 DYNAMIC Fa0/6
Total Mac Addresses for this criterion: 21
```

Отобразил ли коммутатор MAC-адрес компьютера PC-A? Если да, на каком порте он находился?

**Введите ваш ответ здесь.**

## Вопросы для повторения

1.  Можете ли вы использовать широковещательную рассылку на уровне 2? Если да, то каким будет ее MAC-адрес?

**Введите ваш ответ здесь.**

2.  Зачем нужно знать MAC-адрес устройства?

**Введите ваш ответ здесь.**
