
---

> **ВАЖНО**
> 
> Форма для ответов на вопросы будет доступна только при развертывании лабораторной работы 

---

## Задачи

-   Изучите информацию о локальной IP-адресации

-   Проследите путь между источником и местом назначения

## Общие сведения и сценарий

В этом задании Packet Tracer в режиме симуляции физического оборудования (PTPM) вы будете отслеживать физический путь IP-пакетов от дома в Калифорнии до сервера в Университете Гавайев на острове Оаху. Вы будете делать это в Packet Tracer и на вашем компьютере.

В симуляции Packet Tracer студент живет в Калифорнии и регулярно использует браузер для доступа к сайту Гавайского университета по адресу www.hawaii.edu. Когда он просматривает информацию, загруженную с сервера на свой домашний компьютер, ему становится интересно, как IP-пакеты путешествовали между Калифорнией и Гавайями. Каков путь этих пакетов на самом деле и как они преодолели Тихий океан?

Вы также заинтересованы в этих вопросах и вы исследуете путь от вашего местоположения к серверу на Гавайях.

Это задание отслеживает пакеты между двумя устройствами в двух определенных местах, используя их определенные интернет-соединения. Два других устройства в обоих этих же двух местах, но использование отличных интернет-соединений (разных интернет-провайдеров), скорее всего, приведет к тому, что IP-пакеты будут пойдут совершенно другим маршрутом.

Это задание является лишь одним из примеров того, как различные интернет-провайдеры и сетевые услуги соединяются для создания пути между двумя устройствами, которые взаимодействуют с помощью Интернета. Существует множество различных возможностей того, какой путь могут выбрать пакеты, в зависимости от:

-   расположения клиентского компьютера;

-   интернет-провайдера клиента;

-   расположения серверного компьютера;

-   интернет-провайдера сервера;

-   способа соединения различных интернет-провайдеров и субъектов для формирования пути между клиентом и сервером.

В этом задании вы начнете понимать некоторые из различных субъектов и организаций, участвующих в обеспечении успешной передачи IP-пакетов между двумя устройствами в Интернете. Вы увидите, как пакеты между домашним компьютером, известным как клиентский компьютер, перемещаются на сервер.

**Примечание.** Это задание было создано путем фактической связи между домашним компьютером в Калифорнии с сервером в Университете Гавайев. Термины и устройства, упомянутые в этой лабораторной работе, могут отличаться от вашего подключения в зависимости от вашего местоположения и участвующих поставщиков услуг. Часть информации была упрощена, чтобы сделать ее более понятной. Кроме того, все данные в этом задании были созданы авторами с использованием общих инструментов веб-исследований. Ни с одной из организаций, упомянутых в этом задании, не связались для проверки точности. Наконец, схема IP-адресации была изменена, чтобы избежать использования общедоступных адресов.

## Требования

-   компьютер с установленным Packet Tracer и подключением к Интернету. Использование мобильного устройства для этого здания не рекомендуется.

## Инструкции

### Часть 1. Изучите информацию о локальной IP-адресации

В этой части вы изучите информацию об IP-адресации в вашей домашней сети.

**Шаг 1. Каков мой IPv4-адрес?**

Ваш IP-адрес используется для идентификации вашего компьютера при отправке и получении пакетов, аналогично тому, как ваш домашний адрес используется для отправки и получения почты. Вы можете использовать команду **ipconfig** в Windows и команду **ifconfig** в macOS и Linux.

**Примечание.** Это задание выполняется в сети **Home Network**. Если вы изучили другие местоположения, вернитесь в сеть **Home Network**.

1.  Нажмите на **Номе PC**, откройте вкладку **Desktop** (рабочий стол) и выберите **Command Prompt** (командная строка).

2.  Введите команду **ipconfig** и проверьте сведения об адресации IPv4 для **Home PC**

    ```
    C:\> ipconfig

    FastEthernet0 Connection:(default port)

        Connection-specific DNS Suffix..:
        Link-local IPv6 Address.........: FE80::240:BFF:FEA6:4D5A
        IPv6 Address....................: ::
        IPv4 Address....................: 192.168.0.75
        Subnet Mask.....................: 255.255.255.0
        Default Gateway.................: ::
                                          192.168.0.1

    <output omitted>

    C:\>
    ```

    IPv4-адрес — 192.168.0.75, который известен как **частный IPv4-адрес**. Большинство клиентских компьютеров и других устройств используют частный IPv4-адрес. Это устройства, которые не требуют дополнительных девайсов для доступа к нему из Интернета. Частные IPv4-адреса используются для сохранения ограниченного числа глобально маршрутизируемых **общедоступных IPv4-адресов**.

3.  Повторите этот шаг на своем устройстве.

    - Ответьте на вопрос №1

**Шаг 2. Каков IPv4-адрес для моего роутера?**

Эта же команда Windows **ipconfig** показывает IPv4-адрес локального или домашнего роутера, также известного как **шлюз по умолчанию**. Обратите внимание, что наш локальный роутер имеет IPv4-адрес 192.168.0.1.

Это роутер, который подключает вашу локальную домашнюю сеть к сети вашего интернет-провайдера и дает вам доступ к Интернету.

**Примечание.** Для определения шлюза по умолчанию на компьютере с помощью операционной системы macOS или Linux можно использовать команду **route -n**.

- Ответьте на вопрос №2

**Шаг 3. Каков мой публичный IPv4-адрес?**

Частные IPv4-адреса не маршрутизируются в Интернете. Когда IP-пакеты покидают вашу сеть, их частный IPv4-адрес должен быть заменен общедоступным. Публичный IPv4-адрес используется серверами или любым другим местом назначения для отправки пакетов обратно на клиентский компьютер.

Где происходит это преобразование из частного IPv4-адреса в общедоступный? Эту функцию выполняет ваш локальный роутер или вы.

Как узнать публичный адрес, который локальный роутер заменяет вашим частным IPv4-адресом?

1.  На вашем устройстве найдите в Интернете «какой мой ip». Некоторые поисковые системы скажут вам ваш публичный IPv4-адрес без необходимости посещения другого сайта. Кроме того, будет перечислено несколько сайтов, которые содержат эту и другую информацию.

    **Примечание.** Многие интернет-провайдеры начали использовать IPv6-адреса. Частные адреса необходимы только для сохранения доступного количества публичных IPv4-адресов. Использование двух разных адресов и трансляция между ними не требуется для IPv6.

2.  В окне Packet Tracer закройте **Command Window**, и нажмите кнопку **Web Browser**.

3.  В поле **URL** введите **www.tellmemyip.com** и нажмите кнопку **Go**.

    **Примечание.** Этот сайт является фиктивным и в настоящее время существует только в Packet Tracer.

    В дополнение к публичному IPv4-адресу обратите внимание, что сайт, который мы использовали, предоставил другую информацию, включая название нашего интернет-провайдера и географическое положение. Информация интернет-провайдера, как правило, очень надежна. Однако географическая информация (город, страна) и геолокация (широта и долгота) не всегда полностью точны. Обратите внимание, что сайт, который мы использовали, показывает город как Pacific Grove, в нескольких километрах от условного положения нашего дома в Калифорнии. Эта информация обычно является регионом, который поставщик услуг Интернета использовал для всех клиентов в этой области.

4.  На своем устройстве используйте один из сайтов «какой мой ip», которые вы нашли в поиске.

    - Ответьте на вопрос №3

**Шаг 4. Проверьте подключения в вашей сети**

Ответьте на:

- вопрос №4;

- вопрос №5;

- вопрос №6.

Найдите в YouTube "Tour of Home Network 2020 8-bit guy". Это не обычная домашняя сеть, но вы можете узнать многие из тех же устройств, что и в вашей собственной домашней сети.

### Часть 2. Проследите путь между источником и назначением

В этой части вы будете использовать команду **traceroute**, которая нужна для диагностики сети и для отображения пути пакетов к месту назначения. Она собирает информацию о каждом переходе от вашего устройства до устройства назначения. Каждая строка в выходных данных обозначает IP-адрес роутера, используемый для пересылки пакетов из одной сети в другую сеть. Они известны как «переход». В Windows команда называется **tracert**, в то время как операционные системы macOS и Linux используют команду **traceroute** . В трассировщике пакетов используется команда **tracert**. Переходы в задании смоделированы. Однако они строго придерживаются фактического пути, по которому данные будут проходить между устройством в Калифорнии и сервером в Гавайского университета.

**Примечание.** Во время выполнения этой части задания вы будете исследовать выходные данные для двух выводов **traceroute**. Один из них будет с домашним компьютером в Packet Tracer, другой с вашего личного устройства.

**Шаг 1. Используйте трассировку для отображения пути от Калифорнии до Гавайев**

1.  В Packet Tracer на **Home PC** закройте окно **Web Browser**, если оно все еще открыто. На вкладке **Desktop** нажмите **Command Prompt**.

2.  Введите команду **tracert www.hawaii.edu**. Packet Tracer требует некоторое время, чтобы разрешить доменное имя **hawaii.edu** в IPv4-адрес. Нажмите **Fast Forward Time** (ускорить), чтобы ускорить процесс.

3.  На ноутбуке или другом компьютере откройте окно терминала и введите команду **traceroute** для вашей операционной системы. Ваш вывод будет отличаться от вывода ниже и вывода в Packet Tracer. Скорее всего, он покажет имена реальных роутеров и общедоступных IPv4-адресов.

    **Примечание.** В приведенных ниже выходных данных реальные IPv4-адреса были преобразованы в частные.

    ```
    C:\> tracert www.hawaii.edu

    Tracing route to web00.its.hawaii.edu [172.31.149.56]
    over a maximum of 30 hops:
      
      1 3 ms 4 ms 3 ms 10.0.0.1
      2 13 ms 16 ms 11 ms 10.120.89.61
      3 44 ms 18 ms 18 ms po-302-1222-rur02.monterey.ca.sfba.comcast.net [10.110.178.133]
      4 13 ms 14 ms 13 ms po-2-rur01.monterey.ca.sfba.comcast.net [10.139.198.129]
      5 21 ms 17 ms 15 ms be-222-rar01.santaclara.ca.sfba.comcast.net [10.151.78.177]
      6 16 ms 20 ms 19 ms be-39931-cs03.sunnyvale.ca.ibone.comcast.net [10.110.41.121]
      7 27 ms 14 ms 20 ms be-1312-cr12.sunnyvale.ca.ibone.comcast.net [10.110.46.30]
      8 24 ms 19 ms 23 ms be-303-cr01.9greatoaks.ca.ibone.comcast.net [10.110.37.178]
      9 19 ms 21 ms 17 ms be-2211-pe11.9greatoaks.ca.ibone.comcast.net [10.110.32.246]
     10 16 ms 23 ms 16 ms ae-3.2011.rtsw.sunn.net.internet2.edu [172.16.69.141]
     11 24 ms 24 ms 23 ms et-2-3-0.3457.rtsw.losa.net.internet2.edu [172.16.20.255]
     12 85 ms 87 ms 85 ms 172.16.47.134
     13 87 ms 85 ms 85 ms xe-1-1-0-54-kolanut-re0.uhnet.net [172.30.205.29]
     14 87 ms 86 ms 87 ms vl-669-10gigcolol3.uhnet.net [172.30.213.2]
     15 * * * Request timed out.
     16 * * * Request timed out.
    ^C

    C:\>
    ```

4.  Когда в выводе появляется **time out**, для 15-го и 16-го переходов в приведенном выше выходе, нажмите **Ctrl + C**, чтобы завершить трассировку маршрута. В противном случае он будет продолжаться до тех пор, пока не будет достигнуто максимум 30 переходов. В этом примере время ожидания **traceroute** начинает истекать, поскольку роутер в конце пути, скорее всего, настроен так, чтобы не отвечать на запросы **traceroute**.

    Первая выделенная запись в примере показывает первый переход как 1.

5.  Посмотрите внимательно на первую строку вывода. Три числа, предшествующие IP-адресу, являются значениями временных меток, такими как 3 мс, 4 мс, 5 мс, для первого перехода. Это время обхода между исходным устройством и роутером на этом IPv4-адресе (в миллисекундах). Трассировка также включает IP-адрес интерфейса роутера, который получил пакет от источника трассировки, клиентского компьютера. Выделенная запись в примере показывает, что первый роутер имеет IPv4-адрес 10.0.0.1.

    Некоторые переходы могут также содержать сведения о доменном имени, используемые поставщиком услуг для документирования сведений о роутере, таких как **po-302-1222-rur02.monterey.ca.sfba.comcast.net**, выделенные в выходных данных.

    Хотя время ожидания вывода истекло до достижения сервера на hawaii.edu, предыдущие попытки предоставляют достаточно информации для отслеживания пути наших пакетов.

6.  На устройстве попробуйте отследить маршрут до других сайтов, таких как www.netacad.com или www.google.com. Некоторые попытки, вероятно будут выдавать, что время вышло. Некоторые серверы могут не отвечать на трассировку.

**Шаг 2. Исследуйте второй переход в выходе traceroute**

Трасировка показывает показывает второй переход:

```
  2 13 ms 16 ms 11 ms 10.120.89.61
```

IP-пакеты теперь покидают домашнюю сеть и отправляются поставщику услуг Интернета.

10.120.89.61 — это IPv4-адрес первого роутера за пределами локальной домашней сети. Он принадлежит поставщику услуг Интернета и известен как **точка присутствия** поставщика услуг Интернета или **POP**. Именно здесь интернет-провайдер предоставляет своим клиентам доступ к Интернету.

Физическое соединение между конечным пользователем и POP известно как **local loop** или иногда называется «последней милей».

Традиционно последняя миля представляет собой телефонные линии от помещения клиента до местной телефонной станции, иногда называемой Центральным офисом (СО). Медные кабели витой пары используются для передачи аналоговой голосовой и сигнальной информации.

Сегодня последняя миля может также включать кабели для передачи цифровой информации, которая может быть проводной или беспроводной. С точки зрения подключения к Интернету, она соединяет помещения клиента с интернет-провайдером POP.

Последняя миля может быть одним из нескольких различных типов соединений, в том числе:

-   подключение кабеля, обычно с использованием того же коаксиального кабеля, который используется для телевизора и телефона;

-   DSL (цифровая абонентская линия), использующая одну и ту же телефонную линию для телефона и телевизора;

-   беспроводные сигналы или беспроводная локальная сеть (WLL), включая сотовые технологии;

-   спутниковое соединение, как правило, тот же сигнал, что используется для телевизора;

-   оптоволоконный кабель;

-   телефонная линия коммутируемого доступа с использованием того же медного кабеля типа витая пара, что и для телефона.

1.  В Packet Tracer обратите внимание, что **Home PC** на столе подключен к домашнему роутеру на полке за столом. Тем не менее **Home Router** не подключен непосредственно к роутеру следующего перехода. Вместо этого он подключается к кабельному модему. Этот кабельный модем не является роутером. Таким образом он не отображается как переход в выходных данных **traceroute**.

2.  Перейдите в **Монтерей** (город в Калифорнии). Обратите внимание, что следующий переход физически связан со зданием **Comcast POP**. Нажмите на **Comcast POP**. POP физически находится в центре обработки данных. **Центр обработки данных** — это физическое средство, которое организации используют для размещения критически важного оборудования, приложений и данных. Ключевыми компонентами конструкции центра обработки данных являются роутеры, коммутаторы, брандмауэры, системы хранения данных и серверы. Хотя **Comcast POP** обычно является центром обработки данных в реальном мире, в Packet Tracer он хранит только оборудование, необходимое для этого задания. В стойке **Rack** вы увидите несколько устройств, включая устройство, имитирующее терминальную систему кабельного модема (CMTS), роутер Comcast-pop-Monterey, многоуровневый коммутатор и два сервера.

3.  Исследуйте физические соединения между устройствами. Один из интерфейсов **Comcast-CMT** напрямую связан с кабельным модемом **Cable Modem** в **Home Network**. Другой интерфейс подключен к роутеру следующего перехода **Comcast-pop-Monterey**, который находится в стойке прямо под ним. Второй интерфейс **Comcast-pop-Monterey** связан со следующим переходом, который вы исследуете на следующем шаге. Третий интерфейс подключается к коммутатору, который затем подключается к двум серверам. **DNS-server** переводит **www.hawaii.edu** и **www.tellmemyip.com** в адрес IPv4. **Web-server** обслуживает сайт **www.tellmemyip.com**.

- Ответьте на вопрос №7

4.  Второй переход в выводе вашей команде **traceroute** на вашем устройстве обычно является POP вашего поставщика услуг Интернета.

    - Ответьте на вопрос №8

**Шаг 3. Попытайтесь определить физическое расположение IP-адреса POP вашего интернет-провайдера**

Кому принадлежит POP для второго роутера в вашем выводе **traceroute**? Вы можете поискать в Интернете «ip lookup», что приведет к списку веб-сайтов, которые дадут вам информацию об IP-адресе.

Заполните таблицу ниже информацией, которую вы обнаружили в ходе исследования поиска IP. Вам может потребоваться посетить несколько различных поисковых сайтов, чтобы получить всю информацию.

| ISP POP                           |     |
|-----------------------------------|-----|
| 2й Адрес IPv4 перехода:           |     |
| ISP:                              |     |
| Город:                            |     |
| Регион:                           |     |
| Страна:                           |     |

Информация о названии интернет-провайдера, как правило, очень достоверна. Однако информация о физическом местоположении может быть неточной. Во многих случаях указанное физическое местоположение может находиться в сотнях километров от места фактического расположения роутера и центра обработки данных. Это может быть административный офис интернет-провайдера или даже случайное место.

Поскольку информация о геолокации (долгота и широта), зарегистрированная поставщиком услуг Интернета, редко является точной, вы не можете полагаться на эту информацию, чтобы найти фактическое местоположение POP.

В этом случае вам нужно будет обратиться к поставщику услуг Интернета, чтобы узнать, скажет ли он вам, где находится этот POP.

**Шаг 4. Узнайте, почему информация о геолокации не всегда точна**

Поиск в Интернете для "600 million IP addresses Kansas". Вы найдете несколько статей о поставщике услуг Интернета, который решил использовать геолокацию (широту и долготу) в центре США для регистрации более 600 миллионов своих IP-адресов. К сожалению, эта широта и долгота оказались частным домом в центре Канзаса, а не интернет-провайдером.

Любой, у кого есть жалобы на интернет-провайдера, их подключение к Интернету или получение спама с одного из этих IP-адресов, должен связаться с домовладельцами. Вы можете себе представить, с какими трудностями столкнулись и люди, звонящие в дом, и особенно домовладельцы из Канзаса.

Скептически относитесь к любой информации о геолокации, которая показывает пакеты, идущие из одного места, в сотни или тысячи километров, а затем обратно. Например, пакеты обычно не пересылаются из Калифорнии в Канзас и обратно в Калифорнию.

**Шаг 5. Исследуйте локальную сеть поставщика услуг Интернета**

Для примера реального вывода **traceroute**, показанного ниже, переходы с 2 по 9 все принадлежат Comcast. Напомним, что реальные IPv4-адреса для этих роутеров были изменены для этого задания. Таким образом вы не можете использовать их для выполнения поиска IP. Однако можно найти IP-адреса для собственных выходных данных трассировки, чтобы определить, сколько переходов принадлежит поставщику услуг Интернета.

```
C:\> tracert www.hawaii.edu

Tracing route to web00.its.hawaii.edu [172.31.149.56]
over a maximum of 30 hops:

  1 3 ms 4 ms 3 ms 10.0.0.1
  2 13 ms 16 ms 11 ms 10.120.89.61
  3 44 ms 18 ms 18 ms po-302-1222-rur02.monterey.ca.sfba.comcast.net [10.110.178.133]
  4 13 ms 14 ms 13 ms po-2-rur01.monterey.ca.sfba.comcast.net [10.139.198.129]
  5 21 ms 17 ms 15 ms be-222-rar01.santaclara.ca.sfba.comcast.net [10.151.78.177]
  6 16 ms 20 ms 19 ms be-39931-cs03.sunnyvale.ca.ibone.comcast.net [10.110.41.121]
  7 27 ms 14 ms 20 ms be-1312-cr12.sunnyvale.ca.ibone.comcast.net [10.110.46.30]
  8 24 ms 19 ms 23 ms be-303-cr01.9greatoaks.ca.ibone.comcast.net [10.110.37.178]
  9 19 ms 21 ms 17 ms be-2211-pe11.9greatoaks.ca.ibone.comcast.net [10.110.32.246]
 10 16 ms 23 ms 16 ms ae-3.2011.rtsw.sunn.net.internet2.edu [172.16.69.141]
 11 24 ms 24 ms 23 ms et-2-3-0.3457.rtsw.losa.net.internet2.edu [172.16.20.255]
 12 85 ms 87 ms 85 ms 172.16.47.134
 13 87 ms 85 ms 85 ms xe-1-1-0-54-kolanut-re0.uhnet.net [172.30.205.29]
 14 87 ms 86 ms 87 ms vl-669-10gigcolol3.uhnet.net [172.30.213.2]
 15 * * * Request timed out.
 16 * * * Request timed out.
^C

C:\>
```

1.  В окне Packet Tracer перейдите в раздел **Монтерей** (город в Калифорнии), а затем нажмите на здание **monterey.ca** .

2.  Обратите внимание, что два роутера в стойке принадлежат **comcast.net**. Вы можете навести курсор мыши на каждый из них, чтобы увидеть IPv4-адреса. Можно также щелкнуть каждый и исследовать адресацию IPv4 на вкладке **Config**.

    Ответьте на:

    - вопрос №9

    - вопрос №10

    - вопрос №11

    - вопрос №12

    - вопрос №13

    - вопрос №14

**Шаг 6. Исследуйте доменные имена в выходных данных, чтобы узнать больше подсказок о расположении роутеров на каждом переходе**

Доменное имя (если оно есть) в трассировке может предоставить дополнительную информацию. Стандартное соглашение об именах не существует. Как он используется, зависит исключительно от администратора устройства. В выводе **traceroute** выше **Comcast** предоставил информацию в доменном имени, которая дает вам представление о том, где может быть фактически расположен роутер:

-   po-302-1222-rur02.monterey.ca.sfba.comcast.net

-   po-2-rur01.monterey.ca.sfba.comcast.net

-   be-222-rar01.santaclara.ca.sfba.comcast.net

-   be-39931-cs03.sunnyvale.ca.ibone.comcast.net

-   be-1312-cr12.sunnyvale.ca.ibone.comcast.net

-   be-303-cr01.9greatoaks.ca.ibone.comcast.net

-   be-2211-pe11.9greatoaks.ca.ibone.comcast.net

Все эти города находятся в том же географическим регионе, что и нужный вам, известном как район залива Сан-Франциско (sfba), и контролируются **Comcast**.

-   Монтерей (Калифорния)

-   Санта-Клара (Калифорния)

-   Саннивейл (Калифорния)

-   Сан-Хосе, (Калифорния, 9greatoaks.ca)

Мы сделали предположение в Packet Tracer, что все роутеры с одним и тем же городом в доменном имени находятся в одном центре обработки данных. Например, как вы видели, эти два роутера находятся в здании **monterey.ca** :

-   po-302-1222-rur02.monterey.ca.sfba.comcast.net

-   po-2-rur01.monterey.ca.sfba.comcast.net

- Ответьте на вопрос №15

1.  В Packet Tracer перейдите в **Монтерей**. Обратите внимание на северный канал, выходящий из **monterey.ca**.

2.  Перейдите на один уровень вверх к **Intercity** (Packet Tracer не разрешает переименование **Intercity**). Вы увидите представление физических связей между домом в **Монтерее** и островом Оаху, а сервер для Гавайского университета находится в **Гонолулу**. Обратите внимание, что канал сначала идет от **Монтерея** до **Сан-Хосе**, а затем из **Лос-Анджелеса**, прежде чем она пересечет Тихий океан в **Гонолулу**.

3.  Нажмите на **Сан-Хосе**. Обратите внимание, что есть три здания, каждое из которых помечено частью доменного имени, обнаруженной в выходных данных **traceroute**. Роутеры с одинаковым доменным именем расположены в одном здании. Изучите каждое здание, роутер и интерфейс, чтобы заполнить следующую таблицу.

    | Переход | Доменное имя | Интерфейс | IPv4-адрес |
    |---------|--------------|-----------|------------|
    | 5       |              |           |            |
    | 6       |              |           |            |
    | 7       |              |           |            |
    | 8       |              |           |            |
    | 9       |              |           |            |

    - Ответьте на вопрос №16

**IXP Data Center**

IXP (точка обмена Интернетом) обычно представляет собой центр размещения, в котором располагаются интернет-провайдеры и другие клиенты с целью подключения друг к другу.

В какой-то момент интернет-провайдер, такой как **Comcast**, должен будет переслать пакеты другому поставщику услуг Интернета. Обычно это происходит в IXP. Местоположения часто находятся на «границе» сети поставщика услуг Интернета, в место, где пакеты покидают внутреннюю сеть поставщика услуг Интернета и пересылаются другому поставщику услуг Интернета.

Это место, где интернет-провайдеры и другие пользователи могут обмениваться интернет-трафиком между своими сетями.

IXP, как правило, принадлежат и управляются нейтральной стороной. Это означает, что они не являются интернет-провайдером или клиентом своего собственного центра обработки данных.

**Примечание.** Термин **Точка доступа к сети** (NAP) является более старым термином для IXP, который теперь устарел.

**Шаг 7. Исследуйте связь между Comcast и Internet2**

Этот последний переход в сети поставщика услуг Интернета **Comcast** перед отправкой пакетов другому поставщику услуг Интернета происходит на переходе 9.

```
  9 19 ms 21 ms 17 ms be-2211-pe11.9greatoaks.ca .ibone.comcast.net [10.110.32.246]
```

Опять же, **Comcast** дает нам подсказку, где находится маршрутизатор. Однако доменное имя указывает не город, а адрес.

1.  Найдите в Интернете **"9 great oaks California"**, и вы обнаружите, что центр обработки данных Equinix расположен по адресу 9 Great Oaks Boulevard в Сан-Хосе, Калифорния. Если вы затем воспользуетесь Google Maps и выполните поиск по этому адресу, вы можете использовать вид со спутника или вид улицы, чтобы увидеть реальное здание.

    **Equinix** — это точка обмена Интернетом (IXP), известная как Equinix SV5. Он обеспечивает соединения между различными интернет-провайдерами и соединяет Comcast и следующего интернет-провайдера, которым является Internet2.

2.  Существует множество сайтов, которые предоставляют информацию о крупных центрах обработки данных IXP, включая интернет-провайдеров, которые они размещают. Найдите их в Интернете по запросу «Inflect data center». Используйте сайт, чтобы изучить и узнать, можете ли вы найти, где они перечисляют **Comcast** в качестве одной из организаций, размещенных на Equinix SV5.

3.  При необходимости в окне Packet Tracer перейдите в раздел **Сан-Хосе**, а затем щелкните здание **9greatoaks.ca**. Обратите внимание, что имя третьего роутера в стойке указывает, что он принадлежит Internet2. Он является 10-ой попыткой в выходе **traceroute**.

    ```
    10 16 ms 23 ms 16 ms ae-3.2011.rtsw.sunn.net.internet2.edu [172.16.69.141]
    ```

    - Ответьте на вопрос №17

**Шаг 8. Исследуйте Internet2**

Что такое Internet2? Это новая версия Интернета? Нет. Internet2 является некоммерческим интернет-провайдером. Это консорциум исследовательских, образовательных, промышленных и правительственных сообществ, которые предоставляют высокоскоростные сетевые услуги, облачные сервисы и другие услуги, адаптированные для исследований и образования.

Найдите информацию в Википедии и других сайтах, чтобы узнать побольше об Internet2.

- Ответьте на вопрос №18

Для удовольствия найдите "This Man Launched a New Internet Service Provider from His Garage". Это история о Брандте Куйкендалле, жителе небольшого городка Диллон-Бич в Калифорнии. Интернет-сервис в его городе был слишком медленным и дорогим, поэтому он основал свой собственный интернет-провайдер в своем гараже.

**Шаг 9. Исследуйте канал до Лос-Анджелеса**

Наш traceroute показывает, что следующий переход — еще один роутер Internet2. К счастью, доменное имя предоставляет нам эту информацию.

```
11 24 ms 24 ms 23 ms et-2-3-0.3457.rtsw.losa.net.internet2.edu [172.16.20.255]
```

Поиск «internet2 router proxy» может помочь вам убедиться, что «losa» в доменном имени указывает, что этот роутер Internet2 находится в **Los Angeles** (Калифорния). IP-пакеты покинули район залива Сан-Франциско («sfba») и идут на юг примерно в 350 милях до Лос-Анджелеса.

1.  В окне Packet Tracer перейдите на уровень **Intercity** и нажмите кнопку **Los Angles**.

2.  Здание **losa.net.internet2.edu** расположено где-то в округе Лос-Анджелес. Нажмите на здание, чтобы войти в него.

    Стойка имеет один роутер, который соединяется с заливом Сан-Франциско, и подводный кабель, который пересекает Тихий океан. 
    
    - Ответьте на вопрос №19

**Шаг 10. Исследуйте канал, идущий через Тихий океан**

Следующий переход в нашем traceroute:

```
12 85 ms 87 ms 85 ms 172.16.47.134
```

Несмотря на то, что информация о доменном имени не предоставлена, здесь есть две части интересной информации.

Хотя вы не можете использовать IP-адрес для этого примера, поскольку он был преобразован в частный IP-адрес, вы можете использовать сайт «Поиск IP», чтобы определить, кому принадлежит IP-адрес для вашего результата. В приведенном здесь примере авторы смогли определить, что IP-адрес для попытки 12 также принадлежит Internet2.

Еще интереснее, когда мы смотрим на время перехода туда и обратно 85 мс, 87 мс и 85 мс. Обратите внимание, что есть большое увеличение времени по сравнению с предыдущим переходом из Сан-Хосе в Лос-Анджелес (24 мс, 24 мс, 23 мс соответственно).

Почему мы видим меньшее приращение при переходе от 1-го до 11-го, а затем такой большой скачок времени приема-передачи на 12-м переходе?

Мы можем сделать вывод, что этот роутер на попытке 12 должен быть намного дальше, чем предыдущий роутер на переходе 11 в Лос-Анджелесе. Мы также замечаем, что в нашем **traceroute** нет других мест, которые показывают такую большую разницу во времени, как есть между переходом 11 в Калифорнии и переходом 12.

Таким образом, эти пакеты, должно быть, прошли гораздо большее расстояние, чем любые другие две точки вдоль пути от Монтерея до Гавайев. Роутер на переходе 12 должен находиться на Гавайях, где пакеты прошли почти 2500 миль от Калифорнии.

Он расположен на Internet2 Peer Exchange (IP2X) на Гавайях и является последним переходом в сети Internet2. IP2X пересылает пакеты на следующий роутер, принадлежащий Гавайскому университету.

1.  Найдите в Интернете «карту подводного кабеля» и посмотрите, можете ли вы найти какие-либо подводные кабели, которые имеют точку посадки как на пляже Хермоса, так и на Гавайях.

    Ответьте на:

    - вопрос №20

    - вопрос №21

    - вопрос №22

    - вопрос №23

2.  Кабель SEA-US был сделан на основе партнерства между Гавайским университетом и RAM Telecom International, Inc. (RTI). Это партнерство позволяет системе Гавайского университета соединять Гавайи с континентальными Соединенными Штатами, Гуамом и за их пределами.

    Найдите «Подводные кабельные соединения UH через Тихий океан», чтобы найти статью и видео об этом кабеле, проложенном через Тихий океан.

3.  Для получения дополнительной информации, введите в поисковой строке YouTube или других видеохостингах «подводный кабель». Вы найдете много видеороликов, показывающих, как эти кабели сконструированы и проложены через морское дно.

4.  В Packet Tracer перейдите в **Intercity**. Следуйте по кабелю через Тихий океан. Здесь показаны два ретранслятора, хотя их было бы больше нескольких десятков.

    - Ответьте на вопрос №24

13. Нажмите на **Honolulu**. Теперь вы находитесь на острове Оаху. Обратите внимание, что подводный кабель заканчивается в Макахе.

14. Нажмите на здание **i2px-Hawaii**. В стойке находятся два роутера. Первый принадлежит I2PX и представляет 12-й переход в выходе **traceroute**.

    - Ответьте на вопрос №25

**Шаг 11. Изучите связь между Internet2 и сетью Гавайского университета**

Следующий переход в нашем **traceroute**:

```
13 87 ms 85 ms 85 ms xe-1-1-0-54-kolanut-re0.uhnet.net [205.166.205.29]
```

Доменное имя этого роутера указывает, что он является частью сети Гавайского университета (uhnet.net). Он расположен на интернет-бирже Гонолулу (HIX) в Гонолулу, Гавайи, скорее всего, в том же IXP, что и роутер i2px.hawaii.

В Packet Tracer обратите внимание, что вторым роутером в стойке **i2PX-Hawaii** является **kolanut-re0.uhnet.net**.

- Ответьте на вопрос №26

**Шаг 12. Исследуйте последний известный IP-адрес в выходных данных трассировки**

В Packet Tracer все переходы смоделированы. Вернитесь в **Honolulu** и исследуйте здание **uhnet.net** и кампус **hawaii.edu**. В каждом здании вы найдете устройства, имитирующие остальную часть пути трассировки в Packet Tracer.

В реальных выходных данных **traceroute** переходы начинают истекать по таймауту. Для примера в этом задании, тайм-аут начинается на переходе 15. Скорее всего, у вас тайм-аут будет на другом переходе.

```
C:\> tracert www.hawaii.edu

Tracing route to web00.its.hawaii.edu [172.31.149.56]
over a maximum of 30 hops:

<output omitted>

 14 87 ms 86 ms 87 ms vl-669-10gigcolol3.uhnet.net [172.30.213.2]
 15 * * * Request timed out.
 16 * * * Request timed out.
^C
```

Для перехода 14 название подразумевает, что это еще один роутер, который является частью сети Гавайского университета. В этот момент трассировки начинается тайм-аут.

Обычно роутеры и другие устройства, такие как сервер, не отвечают на сообщения трассировки. Роутер может быть даже настроен на запрет пересылки сообщений трассировки на следующий роутер перехода. Скорее всего, роутер или брандмауэр Гавайского университета, перед сервером, блокирует любые дальнейшие трассировки сообщений от входа в сеть.

Тем не менее, вы отследили путь этих пакетов от Калифорнии вплоть до Гавайского университета в Гонолулу.

## Заключение и некоторые вещи, которые следует учитывать

Мы видели, что от отслеживания переходов в нашем **traceroute** наши пакеты прошли через три различные группы сетей:

-   Comcast ISP;

-   Internet2 ISP;

-   Сеть Гавайского университета.

```
Comcast ISP
  1 3 ms 4 ms 3 ms 10.0.0.1
  2 13 ms 16 ms 11 ms 10.120.89.61
  3 44 ms 18 ms 18 ms po-302-1222-rur02.monterey.ca.sfba.comcast.net [10.110.178.133]
  4 13 ms 14 ms 13 ms po-2-rur01.monterey.ca.sfba.comcast.net [10.139.198.129]
  5 21 ms 17 ms 15 ms be-222-rar01.santaclara.ca.sfba.comcast.net [10.151.78.177]
  6 16 ms 20 ms 19 ms be-39931-cs03.sunnyvale.ca.ibone.comcast.net [10.110.41.121]
  7 27 ms 14 ms 20 ms be-1312-cr12.sunnyvale.ca.ibone.comcast.net [10.110.46.30]
  8 24 ms 19 ms 23 ms be-303-cr01.9greatoaks.ca.ibone.comcast.net [10.110.37.178]
  9 19 ms 21 ms 17 ms be-2211-pe11.9greatoaks.ca.ibone.comcast.net [10.110.32.246]
Internet2 ISP
 10 16 ms 23 ms 16 ms ae-3.2011.rtsw.sunn.net.internet2.edu [172.16.69.141]
 11 24 ms 24 ms 23 ms et-2-3-0.3457.rtsw.losa.net.internet2.edu [172.16.20.255]
 12 85 ms 87 ms 85 ms 172.16.47.134
University of Hawaii
 13 87 ms 85 ms 85 ms xe-1-1-0-54-kolanut-re0.uhnet.net [172.30.205.29]
 14 87 ms 86 ms 87 ms vl-669-10gigcolol3.uhnet.net [172.30.213.2]
 15 * * * Request timed out.
 16 * * * Request timed out.
^C

C:\>
```

Comcast, Internet2 и Гавайский университет известны как **автономная система (AS)**. Интернет является взаимосвязью сотен ASS по всему миру. В Интернете пакеты пересылаются между AS.

AS обычно является ISP (Comcast), поставщиком телекоммуникационных услуг (Internet2), поставщиком контента (NetFlix), компанией (Cisco Systems) или учебным заведением, (Гавайский университет).

Пакеты из домашней сети в Калифорнии в Гавайский университет были перенаправлены от Comcast ISP интернет-провайдеру Internet2 и, в конечном итоге, Гавайскому университету. В каждом из этих AS пакеты были перенаправлены несколькими роутерами, принадлежащими каждой AS.

**Бонус.** Вы пытались переключиться в логический режим? Этот режим был оставлен разблокированным, чтобы вы могли посмотреть, как физическое представление трассировки в этом упражнении может выглядеть в форме логической топологии. Приятного чтения!

<!-- [Скачать файл Packet Tracer для локального запуска](./assets/4.7.1-lab.pka) -->
