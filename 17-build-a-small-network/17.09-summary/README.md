<!-- verified: agorbachev 03.05.2022 -->

<!-- 17.8.4 -->
## Устройства в рамках не большй сети

Для соединения с Интернетом в небольшой сети обычно предусматривается одно WAN-подключение, реализованное посредством DSL-соединения, кабеля или Ethernet-соединения. Малые сети управляются местным IT-специалистом или профессионалом, нанятым по контракту. К числу факторов, которые следует учитывать, относятся **стоимость**, **скорость и типы портов/интерфейсов**, **масштабируемость**, а также **функции и услуги операционной системы**. При реализации сети создайте схему IP-адресации и используйте ее на конечных устройствах, серверах и периферийных устройствах, а также на промежуточных устройствах. 

Резервирование может быть достигнуто путем установки дублирующего оборудования, но это также может быть достигнуто путем предоставления дублированных сетевых соединений для критических областей. Роутеры и коммутаторы в небольшой сети необходимо настроить так, чтобы обработка трафика данных, передаваемых в режиме реального времени (например, голоса или видео), осуществлялась отдельно от обработки трафика других данных. Фактически при качественном проектировании сети трафик четко классифицируется в соответствии с приоритетностью.

## Приложения и протоколы в небольшой сети

Существует **два вида программ** или процессов, обеспечивающих доступ к сети: сетевые приложения и службы уровня приложений. Некоторые приложения конечных пользователей зависят от сети, то есть они используют протоколы уровня приложений и могут обмениваться данными непосредственно с нижними уровнями стека протоколов. В качестве примера такого типа приложений можно привести почтовые клиенты и браузеры. Другие программы могут прибегать к помощи служб уровня приложений при использовании сетевых ресурсов (например, передача файлов и временное хранение данных сетевой печати). 

## Программы, которые взаимодействуют с сетью и подготавливают данные к передаче

Двумя наиболее распространенными решениями удаленного доступа являются **Telnet** и **Secure Shell** (SSH). SSH сервис является безопасной альтернативой Telnet. Сетевые администраторы также должны поддерживать общие сетевые серверы и связанные с ними сетевые протоколы, такие как веб-сервер, сервер электронной почты, FTP-сервер, DHCP-сервер и DNS-сервер. Современные компании все активнее используют для связи с заказчиками и деловыми партнерами IP-телефонию и потоковую передачу мультимедийного содержимого. Приложения для передачи данных в режиме реального времени. Сетевая инфраструктура должна поддерживать VoIP, IP-телефонию и другие приложения реального времени.

## Масштабирование до размеров более крупных сетей

Элементы для масштабирования в более крупную сеть включают бюджет, инвентаризацию устройств, сетевую документацию и анализ трафика. По мере роста сети очень важно понимать тип и поток трафика, проходящего по сети. Захватывайте трафик во время пиковых нагрузок, чтобы получить хорошее представление о различных типах трафика и выполнить захват в разных сегментах сети и устройствах, поскольку некоторый трафик будет локальным для определенного сегмента. Сетевые администраторы должны знать, как меняется использование сети. Сведения об использовании компьютеров сотрудников можно получить в «моментальном снимке» с помощью таких инструментов, как диспетчер задач Windows, средство просмотра событий и использование данных.

## Проверка сетевой доступности

Эта **ping**-команда является наиболее эффективным способом быстрого тестирования подключения уровня 3 между IP-адресами источника и назначения. Команда также отображает различные статистику о времени прохождения пакета в оба конца. Cisco IOS предлагает «расширенный» режим команды **ping**, который позволяет пользователю создавать специальные типы pings путем настройки параметров, связанных с работой команды. Для перехода в этот режим необходимо ввести текст «ping» в привилегированном режиме EXEC, не указывая IP-адрес назначения. 

**Traceroute** может помочь найти проблемные области уровня 3 в сети. Команда **trace** возвращает список переходов по мере маршрутизации пакета по сети Он может быть использован для определения точки на пути, где проблема может быть найдена. В Windows это команда **tracert**. В Cisco IOS используется команда **traceroute**. Существует также расширенная **traceroute**-команда. Это позволяет администратору настраивать параметры, связанные с работой команды. Выходные данные, полученные в результате использования сетевых команд, предоставляют данные для внесения в базовый уровень сети. 

Одним из способов создания базового уровня является копирование и вставка результатов выполнения команды **ping**, **trace** или любой другой соответствующей команды в текстовый файл. В такие файлы можно добавить метку времени и дату, а затем сохранить их в архив для дальнейшего использования и сравнения.

## Команды для работы с конфигурацией IP

Сетевые администраторы просматривают информацию об IP-адресации (адрес, маска, роутер и DNS) на узле Windows, выполняя команду **ipconfig**. Другие необходимые команды – это **ipconfig /all**, **ipconfig /release** и **ipconfig /renew**, **ipconfig /displaydns**. Проверка параметров IP с помощью графического интерфейса на компьютере Linux будет отличаться в зависимости от дистрибутива Linux и интерфейса рабочего стола. Необходимые команды – это **ifconfig**и **ip address**. В графическом интерфейсе хоста Mac откройте **Сетевые настройки** > **Дополнительно**, чтобы получить информацию об IP-адресации. 

Другие команды IP-адресации для Mac: **networksetup -listallnetworkservices** и **networksetup -getinfo** <_network service_\> **ifconfig**. Команда **arp** выполняется из командной строки Windows, Linux или Mac. Команда **arp –a** позволяет получить список всех устройств, которые в данный момент представлены в ARP-кэше узла, а также IPv4-адрес, физический адрес и тип адресации (статическая/динамическая) для каждого из устройств. Команда **arp -a** отображает связку известных IP-адресов и MAC-адресов. Наиболее часто используемые **show** команды – это **show running-config**, **show interfaces**, **show ip address**, **show arp**, **show ip route**, **show protocols** и **show version**. 

Команда **show cdp neighbor** предоставляет следующие сведения о каждом из соседних устройств CDP: идентификаторы устройств, список адресов, идентификатор порта, список функций и платформу. Команда **show cdp neighbors detail** позволяет определить наличие ошибок конфигурации IP в любом из соседних устройств CDP В результатах выполнения команды **show ip interface brief** отображаются все интерфейсы на роутере, IP-адрес, назначенный для каждого из интерфейсов (если есть), и рабочее состояние интерфейса.

## Методики поиска и устранения неполадок

* Шаг 1. Определение проблемы.
* Шаг 2. Выработка предположений относительно возможных причин.
* Шаг 3. Проверка предположений для определения причины.
* Шаг 4. Разработка плана действий для решения проблемы и его реализация.
* Шаг 5. Полная проверка функционального состояния сети и принятие профилактических мер.
* Шаг 6. Документирование полученных данных, принятых мер и результатов.

Если требуется решение руководителя, нужны особые знания или у технического специалиста нет нужного уровня доступа к сети, проблему необходимо эскалировать. Процессы, протоколы, механизмы и события IOS генерируют сообщения для индикации их состояния. Команда **debug** в IOS позволяет администратору отобразить эти сообщения в реальном времени для анализа. Чтобы включить отображение сообщений журнала на терминале (виртуальной консоли), используйте команду **terminal monitor** в привилегированном режиме EXEC.

## Сценарии поиска и устранения неполадок

Существует два режима дуплексной связи: **полудуплексный** и **полнодуплексный**. Если одно из двух подключенных устройств работает в полнодуплексном режиме, а другое – в полудуплексном, происходит несовпадение дуплексных режимов. В этом случае передача данных будет выполняться, однако производительность канала связи будет очень низкой.

Неверное назначение IP-адресов создает целый ряд проблем, включая конфликты IP-адресов и проблемы с маршрутизацией. Двумя основными причинами неверного назначения IPv4-адресов являются ошибки назначения адресов вручную и неполадки, связанные с протоколом DHCP. Большинство оконечных устройств полагаются на автоматическое назначение IPv4-адреса сервером DHCP. Если устройству не удается подключиться к серверу DHCP, сервер не может назначить IPv4-адрес для конкретной сети и устройство не сможет установить соединение.

Шлюзом по умолчанию для оконечного устройства является ближайшее сетевое устройство, которое способно пересылать трафик в другие сети. Если для устройства указан неверный или несуществующий адрес шлюза по умолчанию, оно не сможет связываться с устройствами в удаленных сетях. Поскольку шлюз по умолчанию является путем к удаленным сетям, он должен находиться в той же сети, что и оконечное устройство.

Сбои DNS часто приводят пользователя к выводу о том, что сеть не работает. Если пользователь введет в браузере доменное имя, например, www.cisco.com, а сервер DNS будет недоступен, имя не будет преобразовано в IP-адрес и сайт не будет открыт.

<!-- 17.8.5 -->
<!-- quiz -->

