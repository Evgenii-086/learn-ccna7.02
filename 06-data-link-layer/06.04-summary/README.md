<!-- verified: agorbachev 03.05.2022 -->

<!-- 6.4.1 -->
## Назначение канального уровня

**Канальный уровень** модели OSI (уровень 2) подготавливает сетевые данные для физической сети. Уровень канала передачи данных отвечает за связь между сетевыми интерфейсными картами (NIC). Если бы канального уровня не существовало, протоколы сетевого уровня, например, IP, должны были бы обеспечивать соединение для всех типов средств подключения, которые могли встретиться на пути следования пакета.

Уровень канала передачи данных **IEEE 802 LAN/MAN** состоит из следующих двух подуровней: **LLC** и **MAC**. Подуровень MAC обеспечивает инкапсуляцию данных посредством разграничения кадров, адресации и обнаружения ошибок. Интерфейсы роутера инкапсулируют пакет в соответствующий кадр. Для доступа к каждому каналу используется подходящий метод управления доступом к средствам передачи данных. Определением открытых стандартов и протоколов, применимых к канальному уровню доступа, занимаются следующие организации: IEEE, ITU, ISO и ANSI.

## Топологии

Двумя типами топологий, используемых в сетях LAN и WAN, являются **физические** и **логические**. При управлении доступом данных к среде канальный уровень «видит» логическую топологию сети. Именно она влияет на выбор типа кадрирования в сети и управления доступом к среде. Три распространенных типа физических топологий WAN: «точка-точка», «звезда» и «ячеистая». Физические топологии «точка-точка» напрямую соединяют два оконечных устройства (узла). Добавление промежуточных физических соединений не изменит логическую топологию.

В локальных сетях с множественным доступом узлы соединяются с использованием топологий «звезда» или «расширенная звезда». В топологии этого типа узлы подключаются к центральному промежуточному устройству. Физические топологии локальной сети включают звезду, расширенную звезду, шину и кольцо.
**Полудуплексный режим** — когда обмен данными происходит в одном направлении за раз. **Полнодуплексный режим** отправляет и принимает данные одновременно в обоих направлениях. Два взаимосвязанных интерфейса должны использовать один и тот же дуплексный режим, иначе произойдет несоответствие дуплекса, создающее неэффективность и задержку канала.

Примерами таких сетей являются локальные сети Ethernet и беспроводные локальные сети (WLAN). **Сеть с множественным доступом** — это сеть, которая может иметь два или более конечных устройств, пытающихся получить доступ к сети одновременно. В некоторых сетях с множественным доступом необходимы правила регулирования доступа устройств к общей физической среде. Существует два основных метода управления доступом для общих сред: **доступ на основе конкуренции** и **контролируемый доступ**. В сетях с множественным доступом на основе конкуренции все узлы работают в полудуплексном режиме. Однако существует специальный протокол, определяющий, что должно происходить в случае одновременной передачи обоими устройствами. Примеры методов доступа, основанных на конкуренции, включают CSMA/CD для локальных сетей Ethernet с топологией «шина» и CSMA/CA для беспроводных сетей.

## Кадры канального уровня

**Канальный уровень** подготавливает инкапсулированные данные (обычно пакет IPv4 или IPv6) для перемещения по среде передачи данных локальной сети, добавляя к нему заголовок и окончание для создания кадра. Протокол передачи данных отвечает за связь между двумя NIC в одной сети. Кадры канального уровня описываются множеством различных протоколов канального уровня. Кадры любого типа состоят из трех основных компонентов: заголовок, данные и окончание. В отличие от других протоколов инкапсуляции, канальный уровень связи данных добавляет информацию в конец. 

Не существует такой структуры кадра, которая соответствовала бы требованиям всех видов передачи данных во всех типах средств подключения. Количество управляющей информации, которая должна присутствовать в кадре, зависит от окружения и изменяется в соответствии с требованиями управления доступом для конкретной среды и логической топологии. Поля кадра включают флаги индикатора начала и конца кадра, адресацию, тип, управление, данные и обнаружение ошибок. Канальный уровень обеспечивает адресацию, используемую при пересылке кадра по совместно используемой среде передачи данных в локальной сети.

Адреса устройств на этом уровне называются **физическими адресами**. Адресация канального уровня содержится в заголовке кадра и указывает узел назначения кадра в локальной сети. Адрес канального уровня используется только для локальной доставки пакетов. В сети на основе стека протоколов TCP/IP все протоколы второго уровня модели OSI работают с протоколом IP на третьем уровне модели OSI. Однако фактически используемый протокол второго уровня зависит от логической топологии сети и физической среды передачи данных. Каждый протокол управляет доступом к среде для указанных логических топологий второго уровня. Протокол этого уровня, используемый для конкретной топологии сети, определяется технологией, используемой для реализации этой топологии. Протоколы уровня передачи данных включают Ethernet, 802.11 Wireless, PPP, HDLC и Frame Relay.

<!-- 6.4.2 -->
<!-- quiz -->

